% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/getExplainedVar.R
\name{getExplainedVar}
\alias{getExplainedVar}
\title{getExplainedVar}
\usage{
getExplainedVar(
  type = 1,
  data,
  dfCovs,
  dfext = NULL,
  strID = "ID",
  runno = NULL,
  modName = NULL,
  modDevDir = ".",
  cstrCovariates = NULL,
  functionList = list(function(basethetas, covthetas, dfrow, etas, ...) {
    
    return(basethetas[1] * exp(covthetas[1] + etas[1]))
 }),
  functionListName = "PAR1",
  numNonFREMThetas,
  numFREMThetas = length(grep("THETA", names(dfext))) - numNonFREMThetas,
  numSigmas = length(grep("SIGMA", names(dfext))),
  numParCov = NULL,
  parNames = NULL,
  numSkipOm = 0,
  availCov = NULL,
  etas = NULL,
  quiet = FALSE,
  ncores = 1,
  cstrPackages = NULL,
  cstrExports = NULL,
  numETASamples = 100,
  seed = NULL,
  ...
)
}
\arguments{
\item{type}{Which type of explained var we should use, type=0 (based on FO delta rule),
type=1 (default), i.e. based on data and calculated etas (ebes),
type=2 is that the total variability is calculated using ETA samples instead of EBEs and average of individual data for fixed cov relationships, hence etas argument is not needed but numETASamples is needed instead.
type=3 is that the total variability is calculated using ETA samples instead of EBEs and using the first individual data for fixed cov relationships, hence etas argument is not needed but numETASamples is needed instead. If no fixed cov relationship are used, type=2 is exactly the same as type=3 but type=3 is faster.}

\item{data}{the dataset to based the explained variability on, used with type=1}

\item{dfCovs}{A data frame with covariates to based the variability plots on}

\item{dfext}{a data frame with the final estimates in a ext-file format}

\item{strID}{the subject identifier in the dfCovs dataset, default='ID'}

\item{runno}{The run number.}

\item{modName}{The model name. Default is the current directory, i.e. ".".}

\item{modDevDir}{The directory where the files reside.}

\item{cstrCovariates}{A string vector with names of the covariate that should be investigated, if NULL COV1, COV2 etc. will be assigned}

\item{functionList}{A list of functions with input (basethetas, covthetas,dfrow and ...) for in which the explained variability will be calculated. If the function returns a vector of values, each value will be used but functionListName must contain the names with a length of all return for all functions in the functionList}

\item{functionListName}{A vector of strings (names) of the parameters for each function in the functionList}

\item{numNonFREMThetas}{Number of structural thetas in FREM model}

\item{numFREMThetas}{Number of covariate thetas in FREM model}

\item{numSigmas}{Number of sigmas in FREM model}

\item{numParCov}{Number of parameters for which covariate relations are sought (often the same as numNonFREMThetas).}

\item{parNames}{Names of the parameters}

\item{numSkipOm}{Number of Omegas that are not associated with FREM covariates, i.e. skip before calculating the FREM varianes, default= 0}

\item{availCov}{Names of the covariates to use in the calculation of the FFEM model, default=NULL (use all covariates)}

\item{etas}{the etas used to calculate the explained variability, used with type==1 and should be the same size as number of individuals in data}

\item{quiet}{If output should be allowed during the function call, default= FALSE,}

\item{ncores}{the number of cores to use for the calculations, default = 1 which means no parallellization}

\item{cstrPackages}{a character vector with the packages needed to run calculations in parallel, default = NULL}

\item{cstrExports}{a character vector with variables needed to run the calculations in parallel, default = NULL}

\item{numETASamples}{(default = 100) the number of samples used ot integrate over individual parameters when calculating the total variance of the functionList, only used using type==2 & type==3}

\item{seed}{(default = -1 = random, used when sampling ETAs in type==2 and type==3)}

\item{...}{additional variables to be forwarded to the the functionList functions}
}
\value{
a data frame with summary statistics for each parameters and covariate combinations:
}
\description{
Get a data frame with explainable variability information based on a dataset of subjects with covariates
}
\examples{
\dontrun{
dfForest <- getExplainableDF(dfCovs)
}
}
